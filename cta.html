<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AffiliGen AI ‚Äî CTA Tool</title>
<style>
body{margin:0;font-family:Inter,Arial,sans-serif;background:radial-gradient(circle at top,#0f172a,#020617 60%);color:#e5e7eb}
.container{max-width:900px;margin:auto;padding:28px 18px 80px;}
h1{color:#38bdf8;text-align:center;margin-bottom:20px}
.card{background:rgba(2,6,23,.92);border:1px solid rgba(56,189,248,.18);border-radius:20px;padding:26px;margin-bottom:22px;box-shadow:0 18px 45px rgba(0,0,0,.45);}
label{display:block;margin-top:14px;font-weight:bold;font-size:14px}
textarea,input,select{width:100%;margin-top:6px;padding:12px;border-radius:12px;border:none;background:#020617;color:#e5e7eb;font-size:14px}
button{width:100%;margin-top:22px;padding:15px;border:none;border-radius:14px;background:#38bdf8;color:#020617;font-weight:bold;font-size:15px;cursor:pointer;transition:.25s}
button:hover{box-shadow:0 0 28px rgba(56,189,248,.6)}
.output{white-space:pre-wrap;font-size:13px;background:#020617;padding:16px;border-radius:14px;margin-top:10px;border:1px solid rgba(56,189,248,.15)}
.copyBtn{margin-top:10px;background:#020617;color:#38bdf8;border:1px solid rgba(56,189,248,.3)}
.preview{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
.preview img{width:70px;height:70px;object-fit:cover;border-radius:10px;border:1px solid rgba(56,189,248,.3);box-shadow:0 0 6px rgba(56,189,248,.5)}
.nav-step{display:flex;justify-content:space-between;margin-top:16px}
.nav-step button{width:48%;background:linear-gradient(135deg,#22d3ee,#38bdf8);color:#020617}
footer{text-align:center;opacity:.6;font-size:12px;margin-top:40px}
</style>
</head>
<body>
<div class="container">
<h1>üéØ CTA Tool ‚Äî AffiliGen AI</h1>

<div class="card">
<label>1Ô∏è‚É£ Referensi Produk</label>
<textarea id="produk" placeholder="Contoh: Skincare acne brand lokal"></textarea>
<input type="file" id="produkImg" accept="image/*" multiple>
<div id="produkPreview" class="preview"></div>

<label>2Ô∏è‚É£ Referensi Model</label>
<textarea id="model" placeholder="Wanita Indonesia 20-an, natural"></textarea>
<input type="file" id="modelImg" accept="image/*" multiple>
<div id="modelPreview" class="preview"></div>

<label>3Ô∏è‚É£ Referensi Gerakan</label>
<textarea id="gerakan" placeholder="Unboxing, close-up, before-after"></textarea>

<label>4Ô∏è‚É£ Gaya Visual</label>
<input id="gaya" placeholder="cinematic / clean / dramatic">

<label>5Ô∏è‚É£ Platform Preset</label>
<select id="platform">
  <option value="tiktok">TikTok Shop</option>
  <option value="shopee">Shopee Affiliate</option>
</select>

<label>6Ô∏è‚É£ AI Engine</label>
<select id="ai">
  <option>Grok</option>
  <option>Midjourney</option>
  <option>Stable Diffusion</option>
  <option>Runway</option>
  <option>Pika</option>
</select>

<label>7Ô∏è‚É£ Fokus Funnel</label>
<select id="fokus">
  <option value="hook">Hook ‚Äì Stop Scroll</option>
  <option value="problem">Problem ‚Äì Pain Point</option>
  <option value="solution">Solution ‚Äì Transformasi</option>
  <option value="cta" selected>CTA ‚Äì Jualan</option>
</select>

<label>8Ô∏è‚É£ Preset Niche Affiliate</label>
<select id="preset">
  <option value="general">General Affiliate</option>
  <option value="beauty">Beauty / Skincare</option>
  <option value="fashion">Fashion</option>
  <option value="gadget">Gadget / Tech</option>
  <option value="food">Food / Minuman</option>
  <option value="health">Health / Fitness</option>
</select>

<label>üî• Mode Prompt</label>
<select id="mode">
  <option value="normal">Normal Mode</option>
  <option value="viral">üî• Affiliate Viral Mode</option>
</select>

<button onclick="generate()">üöÄ Generate Prompt</button>

<div class="nav-step">
  <button onclick="goStep('solution.html')">‚Üê Previous Step</button>
  <button onclick="goStep('')">Next Step ‚Üí</button>
</div>
</div>

<div class="card">
<h3>üñºÔ∏è Image Prompt</h3>
<div id="imageOut" class="output">‚Äî</div>
<button class="copyBtn" onclick="copyText('imageOut')">üìã Copy Image Prompt</button>

<h3 style="margin-top:26px">üé¨ Image ‚Üí Video Prompt</h3>
<div id="videoOut" class="output">‚Äî</div>
<button class="copyBtn" onclick="copyText('videoOut')">üìã Copy Video Prompt</button>
<button class="copyBtn" onclick="exportPrompt()">‚¨áÔ∏è Download Prompt (.txt)</button>
<button class="copyBtn" onclick="exportPrompt('md')">‚¨áÔ∏è Download Prompt (.md)</button>
</div>

<footer>
<div style="margin-bottom:6px;font-weight:bold">AffiliGen AI</div>
<div>AI Prompt System for Affiliate Creators</div>
<div style="margin-top:6px">¬© 2026 ‚Äî Built with GitHub + Vercel</div>
</footer>
</div>

<script>
// ====== COPY ======
function copyText(id){
  navigator.clipboard.writeText(document.getElementById(id).innerText);
  alert('Prompt berhasil disalin ‚úÖ');
}

// ====== PREVIEW GAMBAR ======
function previewImages(input, targetId){
  const preview = document.getElementById(targetId);
  preview.innerHTML='';
  Array.from(input.files).slice(0,5).forEach(file=>{
    const img = document.createElement('img');
    img.src = URL.createObjectURL(file);
    preview.appendChild(img);
  });
  if(input.files.length > 5) alert("Maksimal 5 gambar!");
}
document.getElementById('produkImg').addEventListener('change', function(){previewImages(this,'produkPreview');saveData();});
document.getElementById('modelImg').addEventListener('change', function(){previewImages(this,'modelPreview');saveData();});

// ====== AUTO-SAVE ======
function saveData(){
  const data={
    produk: document.getElementById('produk').value,
    model: document.getElementById('model').value,
    gerakan: document.getElementById('gerakan').value,
    gaya: document.getElementById('gaya').value,
    platform: document.getElementById('platform').value,
    ai: document.getElementById('ai').value,
    fokus: document.getElementById('fokus').value,
    preset: document.getElementById('preset').value,
    mode: document.getElementById('mode').value
  };
  localStorage.setItem('ctaData', JSON.stringify(data));
}
function loadData(){
  const data = JSON.parse(localStorage.getItem('ctaData'));
  if(!data) return;
  document.getElementById('produk').value = data.produk;
  document.getElementById('model').value = data.model;
  document.getElementById('gerakan').value = data.gerakan;
  document.getElementById('gaya').value = data.gaya;
  document.getElementById('platform').value = data.platform;
  document.getElementById('ai').value = data.ai;
  document.getElementById('fokus').value = data.fokus;
  document.getElementById('preset').value = data.preset;
  document.getElementById('mode').value = data.mode;
}
['produk','model','gerakan','gaya','platform','ai','fokus','preset','mode'].forEach(id=>{
  document.getElementById(id).addEventListener('input',saveData);
});
window.onload=loadData;

// ====== NAVIGATION STEP ======
function goStep(url){
  if(!url) return;
  window.location.href=url;
}

// ====== GENERATE PROMPT ======
function generate(){
  const produkText = document.getElementById('produk').value;
  const modelText = document.getElementById('model').value;
  const gerakan = document.getElementById('gerakan').value;
  const gaya = document.getElementById('gaya').value;
  const platform = document.getElementById('platform').value;
  const ai = document.getElementById('ai').value;
  const preset = document.getElementById('preset').value;
  const fokus = document.getElementById('fokus').value;
  const mode = document.getElementById('mode').value;

  const focusMap={
    hook:{t:'HOOK ‚Äì STOP SCROLLING',v:'Extreme contrast, shocking first frame',copy:['Stop scroll! Ini alasannya‚Ä¶','Gue kira ini HOAX üò≥','Ini bikin hidup gue lebih gampang‚Ä¶']},
    problem:{t:'PROBLEM ‚Äì PAIN POINT',v:'Raw emotion, relatable struggle',copy:['Capek coba banyak cara tapi gagal?','Masalah ini sering diremehin‚Ä¶','Ini yang bikin orang frustrasi‚Ä¶']},
    solution:{t:'SOLUTION ‚Äì TRANSFORMATION',v:'Clear demo, satisfying result',copy:['Akhirnya ketemu solusinya‚Ä¶','Cuma pakai ini hasilnya kerasa','Cara paling simpel yang pernah gue coba']},
    cta:{t:'CTA ‚Äì SELLING MOMENT',v:'Trust cue, urgency CTA',copy:['Link di keranjang sekarang!','Jangan kehabisan, serius','Klik sekarang sebelum nyesel']}
  };

  const aiStyle={
    Grok:'Natural language, cinematic realism, descriptive',
    Midjourney:'Ultra-detailed, cinematic lighting, sharp focus, 8k',
    'Stable Diffusion':'Highly detailed, realistic texture, balanced composition',
    Runway:'Smooth cinematic motion, realistic transition',
    Pika:'Dynamic camera, fast social motion'
  };

  const nichePreset={
    general:'Balanced commercial look, broad appeal',
    beauty:'Clean skin tone, soft lighting, aesthetic beauty shot',
    fashion:'Stylish pose, confident expression, editorial look',
    gadget:'Sharp product focus, tech lighting, modern vibe',
    food:'Appetizing close-up, warm lighting, fresh texture',
    health:'Energetic body language, healthy lifestyle mood'
  };

  const f=focusMap[fokus];
  const platformTone=platform==='tiktok'?'Fast-paced TikTok affiliate style':'Trust-building Shopee affiliate style';
  const modeTone=mode==='viral'?'EXTREME viral affiliate, emotional, curiosity gap':'Clean commercial style';
  const viralLine = mode==='viral' ? `Suggested Viral Line: "${f.copy[Math.floor(Math.random()*f.copy.length)]}"\n\n` : '';

  const produkImgs = Array.from(document.getElementById('produkImg').files).slice(0,5).map(f=>f.name).join(', ') || 'Tidak ada gambar';
  const modelImgs = Array.from(document.getElementById('modelImg').files).slice(0,5).map(f=>f.name).join(', ') || 'Tidak ada gambar';

  document.getElementById('imageOut').innerText = `${f.t}
IMAGE PROMPT

${viralLine}Produk: ${produkText}
Gambar Produk: ${produkImgs}
Model: ${modelText}
Gambar Model: ${modelImgs}
Use attached images as reference
Visual Focus: ${f.v}
Style: ${gaya}
Mood: ${platformTone} | ${modeTone}
AI Style: ${aiStyle[ai]}
Niche Preset: ${nichePreset[preset]}`;

  document.getElementById('videoOut').innerText = `${f.t}
IMAGE ‚Üí VIDEO PROMPT

Use generated image + references
Motion: ${gerakan}
Visual Focus: ${f.v}
Style: ${gaya}
Mood: ${platformTone} | ${modeTone}
AI Style: ${aiStyle[ai]}
Attached Images: Produk(${produkImgs}), Model(${modelImgs})
Format: Vertical 9:16
Duration: 5‚Äì7s
Goal: High CTR Affiliate Video`;
}

// ====== EXPORT PROMPT ======
function exportPrompt(type='txt'){
  const content = `=== IMAGE PROMPT ===
${document.getElementById('imageOut').innerText}

=== VIDEO PROMPT ===
${document.getElementById('videoOut').innerText}`;
  const blob = new Blob([content], {type:'text/plain'});
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = `AffiliGen_Prompt.${type}`;
  link.click();
}
</script>
</body>
</html>
